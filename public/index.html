<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tong POS - Restaurant System</title>
    <!-- CoreUI CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@coreui/coreui@4.2.2/dist/css/coreui.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="login-screen" class="screen active" style="display: flex;">
        <div class="login-container">
            <h2>Tong POS Login</h2>
            <form id="login-form">
                <div class="input-group mb-3">
                    <input type="text" id="username" class="form-control" placeholder="Username" required>
                </div>
                <input type="password" id="password" class="form-control" placeholder="Password" required>
                <button type="submit" class="btn btn-primary w-100 mt-3">Login</button>
            </form>
        </div>
    </div>

    <!-- CoreUI Dashboard Structure -->
    <div id="main-dashboard" class="screen">
        <!-- Sidebar -->
        <div class="sidebar sidebar-dark sidebar-fixed sidebar-modern" id="sidebar">
            <div class="sidebar-brand d-none d-md-flex">
                <span class="brand-icon"><i class="fa-solid fa-bowl-food"></i></span>
                <span class="brand-text">Tong POS</span>
            </div>
            <ul id="sidebar-nav" class="sidebar-nav" data-coreui="navigation" data-simplebar="">
                <li class="nav-title">Main</li>
                <li class="nav-item"><a class="nav-link pos-nav-link" href="#/sales"><span class="nav-icon me-2"><i class="fa-solid fa-cash-register"></i></span> Sales / Register</a></li>
                <li class="nav-item"><a class="nav-link pos-nav-link" href="#/orders"><span class="nav-icon me-2"><i class="fa-solid fa-list-ul"></i></span> Orders</a></li>
                <li class="nav-item"><a class="nav-link pos-nav-link" href="#/inventory"><span class="nav-icon me-2"><i class="fa-solid fa-boxes-stacked"></i></span> Inventory</a></li>
                <li class="nav-item"><a class="nav-link pos-nav-link" href="#/customers"><span class="nav-icon me-2"><i class="fa-solid fa-user-group"></i></span> Customers</a></li>
                <li class="nav-item"><a class="nav-link pos-nav-link" href="#/employees"><span class="nav-icon me-2"><i class="fa-solid fa-user-tie"></i></span> Employees</a></li>
                <li class="nav-item"><a class="nav-link pos-nav-link" href="#/reports"><span class="nav-icon me-2"><i class="fa-solid fa-chart-line"></i></span> Reports</a></li>
                <li class="nav-item"><a class="nav-link pos-nav-link" href="#/settings"><span class="nav-icon me-2"><i class="fa-solid fa-gear"></i></span> Settings</a></li>
                <li class="nav-item"><a class="nav-link pos-nav-link" href="#/accounting"><span class="nav-icon me-2"><i class="fa-solid fa-coins"></i></span> Accounting</a></li>
                <li class="nav-item"><a class="nav-link pos-nav-link" href="#/system"><span class="nav-icon me-2"><i class="fa-solid fa-server"></i></span> System</a></li>
                <li class="nav-item"><a class="nav-link pos-nav-link" href="#/help"><span class="nav-icon me-2"><i class="fa-solid fa-circle-question"></i></span> Help</a></li>
                <li class="nav-title">Admin</li>
                <li id="manage-stock-sidebar-item" class="nav-item"><a class="nav-link" href="#"><span class="nav-icon me-2"><i class="fa-solid fa-warehouse"></i></span> Manage Stock</a></li>
                <li id="manage-users-sidebar-item" class="nav-item"><a class="nav-link" href="#"><span class="nav-icon me-2"><i class="fa-solid fa-users-gear"></i></span> Manage Users</a></li>
                <li class="nav-title">Super Admin</li>
                <li class="nav-item"><a class="nav-link" href="/admin/businesses.html"><span class="nav-icon me-2"><i class="fa-solid fa-building"></i></span> Business List</a></li>
                <li class="nav-item"><a class="nav-link" href="/admin/business-categories.html"><span class="nav-icon me-2"><i class="fa-solid fa-tags"></i></span> Business Category</a></li>
                <li class="nav-item"><a class="nav-link" href="/admin/subscription-plans.html"><span class="nav-icon me-2"><i class="fa-solid fa-layer-group"></i></span> Subscription Plans</a></li>
            </ul>
            <div class="sidebar-footer d-none d-md-block">
                <div class="small text-muted">v1.0 â€¢ Online</div>
            </div>
        </div>

        <!-- Main Wrapper -->
        <div class="wrapper d-flex flex-column min-vh-100 bg-light">
            <!-- Header -->
            <header class="header header-sticky mb-4">
                <div class="container-fluid">
                    <button class="header-toggler px-md-0 me-md-3" type="button" onclick="coreui.Sidebar.getInstance(document.querySelector('#sidebar')).toggle()"><svg class="header-toggler-icon" width="20" height="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="var(--cui-icon-color, currentColor)" d="M0 96l512 0v64l-512 0zM0 224l512 0v64l-512 0zM0 352l512 0v64l-512 0z"></path></svg></button>
                    <h5 id="user-role-display" class="mb-0">Dashboard</h5>
                    <div class="header-actions ms-auto">                        
                        <button id="add-order-btn" class="btn btn-light me-2">New Order</button>
                        <button id="view-old-orders-btn" class="btn btn-light me-2">View Old Orders</button>
                        <button id="z-report-btn" class="btn btn-warning me-2">Z-Report</button>
                        <button id="profit-loss-btn" class="btn btn-info me-2">Profit/Loss</button>
                        <button id="logout-btn" class="btn btn-danger">Logout</button>
                    </div>
                </div>
                <!-- Main POS Menu Tabs -->
                <nav class="pos-tabs-nav">
                    <ul id="pos-tabs" class="nav nav-pills justify-content-start px-3">
                        <li class="nav-item"><a class="nav-link" href="#/sales">Sales</a></li>
                        <li class="nav-item"><a class="nav-link" href="#/orders">Orders</a></li>
                        <li class="nav-item"><a class="nav-link" href="#/inventory">Inventory</a></li>
                        <li class="nav-item"><a class="nav-link" href="#/customers">Customers</a></li>
                        <li class="nav-item"><a class="nav-link" href="#/employees">Employees</a></li>
                        <li class="nav-item"><a class="nav-link" href="#/reports">Reports</a></li>
                        <li class="nav-item"><a class="nav-link" href="#/settings">Settings</a></li>
                        <li class="nav-item"><a class="nav-link" href="#/accounting">Accounting</a></li>
                        <li class="nav-item"><a class="nav-link" href="#/system">System</a></li>
                        <li class="nav-item"><a class="nav-link" href="#/help">Help</a></li>
                        <li class="nav-item"><a class="nav-link" href="#/menu">Menu Mgmt</a></li>
                        <li class="nav-item"><a class="nav-link" href="#/tables">Tables</a></li>
                        <li class="nav-item"><a class="nav-link" href="#/kitchen">Kitchen</a></li>
                    </ul>
                </nav>
            </header>

            <!-- Body Content -->
            <div class="body flex-grow-1 px-3">

                <!-- Admin Dashboard Section -->
                <div id="admin-dashboard-section" class="container-lg" style="display: none;">
                    <div class="row g-3 mb-3">
                        <div class="col-sm-6 col-lg-3">
                            <div class="card summary-card sales-card">
                                <div class="card-body">
                                    <div class="summary-label">Today's Sales</div>
                                    <div id="summary-today-sales" class="summary-value">£0.00</div>
                                    <div id="summary-month-sales" class="summary-sub">MTD £0.00</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-lg-3">
                            <div class="card summary-card purchases-card">
                                <div class="card-body">
                                    <div class="summary-label">Today's Purchases</div>
                                    <div id="summary-today-purchases" class="summary-value">£0.00</div>
                                    <div id="summary-month-purchases" class="summary-sub">MTD £0.00</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-lg-3">
                            <div class="card summary-card profit-card">
                                <div class="card-body">
                                    <div class="summary-label">Today's Profit</div>
                                    <div id="summary-today-profit" class="summary-value">£0.00</div>
                                    <div id="summary-month-profit" class="summary-sub">MTD £0.00</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-lg-3">
                            <div class="card summary-card orders-card">
                                <div class="card-body">
                                    <div class="summary-label">Orders Today</div>
                                    <div id="summary-today-orders" class="summary-value">0</div>
                                    <div id="summary-users" class="summary-sub">Users: 0 · Low stock: 0</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row g-3 mb-3">
                        <div class="col-lg-8">
                            <div class="card h-100">
                                <div class="card-header d-flex justify-content-between align-items-center">
                                    <span>Monthly Sales vs Purchases</span>
                                    <small class="text-muted">Last 12 months</small>
                                </div>
                                <div class="card-body">
                                    <canvas id="monthly-sales-chart" height="240"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="card h-100">
                                <div class="card-header">Top Selling Products (30 days)</div>
                                <div class="card-body">
                                    <ul id="top-products-list" class="list-group list-group-flush small"></ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row g-3 mb-3">
                        <div class="col-lg-6">
                            <div class="card h-100">
                                <div class="card-header">Cash Flow Overview</div>
                                <div class="card-body">
                                    <div class="cashflow-grid">
                                        <div class="cashflow-item"><span>Total Sales</span><strong id="cashflow-total-sales">£0.00</strong></div>
                                        <div class="cashflow-item"><span>Total Purchases</span><strong id="cashflow-total-purchases">£0.00</strong></div>
                                        <div class="cashflow-item"><span>Total Profit</span><strong id="cashflow-total-profit">£0.00</strong></div>
                                        <div class="cashflow-item"><span>Active Users</span><strong id="cashflow-users">0</strong></div>
                                        <div class="cashflow-item"><span>Low Stock Items</span><strong id="cashflow-low-stock">0</strong></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="card h-100">
                                <div class="card-header">Recent Orders</div>
                                <div class="card-body">
                                    <ul id="recent-orders-list" class="list-group list-group-flush small"></ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="container-lg">
                    <!-- SPA Sections container (hidden/shown by router) -->
                    <div id="app-sections" class="mb-4" style="display:none;">
                        <div id="section-sales" class="pos-section card"><div class="card-header">Sales / Register</div><div class="card-body"><div id="sales-root"></div></div></div>
                        <div id="section-orders" class="pos-section card"><div class="card-header">Orders</div><div class="card-body"><div id="orders-root"></div></div></div>
                        <div id="section-inventory" class="pos-section card"><div class="card-header">Inventory</div><div class="card-body"><div id="inventory-root"></div></div></div>
                        <div id="section-customers" class="pos-section card"><div class="card-header">Customers</div><div class="card-body"><div id="customers-root"></div></div></div>
                        <div id="section-employees" class="pos-section card"><div class="card-header">Employees</div><div class="card-body"><div id="employees-root"></div></div></div>
                        <div id="section-reports" class="pos-section card"><div class="card-header">Reports</div><div class="card-body"><div id="reports-root"></div></div></div>
                        <div id="section-settings" class="pos-section card"><div class="card-header">Settings</div><div class="card-body"><div id="settings-root"></div></div></div>
                        <div id="section-accounting" class="pos-section card"><div class="card-header">Accounting / Finance</div><div class="card-body"><div id="accounting-root"></div></div></div>
                        <div id="section-system" class="pos-section card"><div class="card-header">System</div><div class="card-body"><div id="system-root"></div></div></div>
                        <div id="section-help" class="pos-section card"><div class="card-header">Help</div><div class="card-body"><div id="help-root"></div></div></div>
                        <div id="section-menu" class="pos-section card"><div class="card-header">Menu Management</div><div class="card-body"><div id="menu-root"></div></div></div>
                        <div id="section-tables" class="pos-section card"><div class="card-header">Table Management</div><div class="card-body"><div id="tables-root"></div></div></div>
                        <div id="section-kitchen" class="pos-section card"><div class="card-header">Kitchen Display</div><div class="card-body"><div id="kitchen-root"></div></div></div>
                    </div>

                    <div class="row">
                        <!-- Left Column: Menu and Pending Orders -->
                        <div class="col-lg-8">
                                                    <div id="menu-section" class="card mb-4">
                                <div class="card-header d-flex justify-content-between align-items-center">
                                    <span>Home</span>
                                    <button id="toggle-touch-mode" class="btn btn-sm btn-outline-secondary">Toggle Touch Mode</button>
                                </div>
                                <div class="card-body">
                                    <!-- Category Bar moved from sidebar to main content -->
                                    <ul id="category-bar" class="menu-categories nav nav-tabs category-bar mb-3" role="tablist"></ul>
                                    <div id="menu-items" class="menu-items"></div>
                                </div>
                            </div>
                            <div id="pending-orders-section" class="card mb-4">
                                <div class="card-header d-flex justify-content-between align-items-center">
                                    <span>Pending Orders (for Payment)</span>
                                    <button id="pay-selected-btn" class="btn btn-sm btn-primary" onclick="handlers.openPaySelectedModal()">Pay Selected</button>
                                </div>
                                <div class="card-body">
                                    <ul id="pending-orders-list" class="list-group"></ul>
                                </div>
                            </div>
                        </div>

                        <!-- Right Column: Current Order -->
                        <div id="order-section" class="col-lg-4">
                            <div class="card">
                                <div class="card-header">Current Order</div>
                                <div class="card-body">
                                    <div class="order-type-selection mb-3">
                                        <select id="order-type-select" class="form-select">
                                            <option value="table">Table Order</option>
                                            <option value="takeaway">Takeaway Order</option>
                                        </select>
                                        <select id="table-select" class="form-select mt-2">
                                            <option value="1">Table 1</option> <option value="2">Table 2</option> <option value="3">Table 3</option> <option value="4">Table 4</option> <option value="5">Table 5</option> <option value="6">Table 6</option> <option value="7">Table 7</option> <option value="8">Table 8</option>
                                        </select>
                                    </div>
                                    <ul id="order-list" class="list-group list-group-flush mb-3"></ul>
                                    <div class="order-total d-flex justify-content-between fs-5 fw-bold border-top pt-2">
                                        <span>Total:</span>
                                        <span id="total-price">Â£0.00</span>
                                    </div>
                                    <div class="order-actions d-grid gap-2 mt-3">
                                        <button id="place-order-btn" class="btn btn-primary">Send to Kitchen</button>
                                        <button id="pay-cash-btn" class="btn btn-success">Pay Cash</button>
                                        <button id="pay-card-btn" class="btn btn-info">Pay Card</button>
                                        <div class="d-grid gap-2 mt-2">
                                            <button id="suspend-sale-btn" class="btn btn-outline-secondary">Suspend Sale</button>
                                            <button id="resume-sale-btn" class="btn btn-outline-secondary">Resume Sale</button>
                                            <div class="d-flex gap-2">
                                                <button id="print-receipt-btn" class="btn btn-outline-dark w-50">Print Receipt</button>
                                                <button id="email-receipt-btn" class="btn btn-outline-dark w-50">Email Receipt</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Kitchen View: Order Queue -->
                        <div id="queue-section" class="col-12">
                             <div class="card">
                                <div class="card-header">Order Queue (Kitchen View)</div>
                                <div class="card-body">
                                    <ul id="order-queue-list"></ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
</div>

<!-- Suspended Sales Modal -->
<div id="suspended-sales-modal" class="modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Suspended Sales</h5>
                <button type="button" class="btn-close close-btn"></button>
            </div>
            <div class="modal-body">
                <ul id="suspended-sales-list" class="list-group"></ul>
            </div>
        </div>
    </div>
    </div>

<!-- Profit/Loss Modal -->
<div id="profit-loss-modal" class="modal">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Profit & Loss Report</h5>
                <button type="button" class="btn-close close-btn"></button>
            </div>
            <div class="modal-body">
                <div class="row mb-3">
                    <div class="col-md-5">
                        <label for="profit-loss-start-date" class="form-label">Start Date</label>
                        <input type="date" id="profit-loss-start-date" class="form-control">
                    </div>
                    <div class="col-md-5">
                        <label for="profit-loss-end-date" class="form-label">End Date</label>
                        <input type="date" id="profit-loss-end-date" class="form-control">
                    </div>
                    <div class="col-md-2 d-flex align-items-end">
                        <button id="generate-profit-loss-btn" class="btn btn-primary w-100">Generate</button>
                    </div>
                </div>
                <div id="profit-loss-results"></div>
            </div>
        </div>
    </div>
</div>

<!-- Pay Selected Orders Modal -->
<div id="pay-selected-modal" class="modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Pay Selected Orders</h5>
                <button type="button" class="btn-close close-btn"></button>
            </div>
            <div class="modal-body">
                <div class="mb-2">Method:</div>
                <div class="d-flex gap-2 mb-3">
                    <label class="form-check form-check-inline"><input type="radio" name="pay-selected-method" value="cash" class="form-check-input" checked> Cash</label>
                    <label class="form-check form-check-inline"><input type="radio" name="pay-selected-method" value="card" class="form-check-input"> Card</label>
                    <label class="form-check form-check-inline"><input type="radio" name="pay-selected-method" value="mobile" class="form-check-input"> Mobile</label>
                    <label class="form-check form-check-inline"><input type="radio" name="pay-selected-method" value="gift" class="form-check-input"> Gift</label>
                    <label class="form-check form-check-inline"><input type="radio" name="pay-selected-method" value="loyalty" class="form-check-input"> Loyalty</label>
                </div>
                <div class="mb-3">
                    <label class="form-label">Optional Amount (distribute across orders)</label>
                    <input id="pay-selected-amount" type="number" class="form-control" min="0" step="0.01" placeholder="Leave empty to pay full due">
                </div>
                <div class="d-flex gap-2">
                    <button id="pay-selected-full-btn" class="btn btn-success w-50" onclick="handlers.processPaySelectedFull()">Pay Full</button>
                    <button id="pay-selected-partial-btn" class="btn btn-outline-success w-50" onclick="handlers.processPaySelectedPartial()">Pay Amount</button>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Order View Modal (Orders tab) -->
<div id="order-view-modal" class="modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 id="order-view-title" class="modal-title">Order Details</h5>
                <button type="button" class="btn-close close-btn"></button>
            </div>
            <div id="order-view-content" class="modal-body"></div>
        </div>
    </div>
</div>

<!-- Confirm Table Action Modal -->
<div id="table-order-confirm-modal" class="modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Existing Table Order</h5>
                <button type="button" class="btn-close close-btn"></button>
            </div>
            <div class="modal-body">
                <p id="table-order-confirm-text">There is already an open order for this table. Add items to existing order or create a new order?</p>
                <div class="d-flex gap-2">
                    <button id="btn-add-to-existing-order" class="btn btn-primary w-50">Add To Existing</button>
                    <button id="btn-create-new-order" class="btn btn-outline-secondary w-50">New Order</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Updated Payment Modal -->
<div id="payment-modal" class="modal">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Process Payment</h5>
                <button type="button" class="btn-close close-btn"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3 fs-4 text-center">
                    <strong>Total Due:</strong> <span id="payment-total-due" class="text-success">£0.00</span>
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text">Discount (%)</span>
                    <input type="number" id="discount-percent" placeholder="0" class="form-control" placeholder="0.00" step="0.01" min="0">
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text">Discount (£)</span>
                    <input type="number" id="discount-cash" class="form-control" placeholder="0.00" step="0.01" min="0">
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text">Tendered (£)</span>
                    <input type="number" id="amount-tendered" class="form-control" placeholder="0.00" step="0.01" min="0">
                </div>
                 <div class="mb-3 fs-5 text-center">
                    <strong>Change Due:</strong> <span id="payment-change-due">£0.00</span>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" id="confirm-payment-btn" class="btn btn-primary">Confirm Payment</button>
            </div>
        </div>
    </div>
</div>

<!-- Stock Management Modal -->
<div id="stock-modal" class="modal">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Manage Menu & Stock</h5>
                <button type="button" class="btn-close close-btn"></button>
            </div>
            <div class="modal-body">
                <div class="card mb-4">
                    <div class="card-header">Add/Edit Menu Item</div>
                    <div class="card-body">
                        <form id="menu-item-form">
                            <input type="hidden" id="menu-item-id">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="menu-item-name" class="form-label">Item Name</label>
                                    <input type="text" id="menu-item-name" class="form-control" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="menu-item-category" class="form-label">Category</label>
                                    <input type="text" id="menu-item-category" class="form-control" required>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="menu-item-price" class="form-label">Price (Â£)</label>
                                    <input type="number" id="menu-item-price" class="form-control" step="0.01" min="0" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="menu-item-stock" class="form-label">Initial Stock</label>
                                    <input type="number" id="menu-item-stock" class="form-control" min="0" required>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary">Save Item</button>
                            <button type="button" id="clear-menu-item-form-btn" class="btn btn-secondary">Clear</button>
                        </form>
                    </div>
                </div>

                <div class="mb-3">
                    <input type="text" id="stock-search-input" class="form-control" placeholder="Search for items...">
                </div>
                <div class="accordion" id="stock-list-accordion">
                    <!-- Stock items will be injected here -->
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary close-btn">Cancel</button>
                <button type="button" id="save-stock-btn" class="btn btn-primary">Save Stock Changes</button>
            </div>
        </div>
    </div>
</div>

<!-- Z-Report Modal with Sales Graph -->
<div id="z-report-modal" class="modal">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Z-Report (Today's Sales)</h5>
                <button type="button" class="btn-close close-btn"></button>
            </div>
            <div class="modal-body">
                <div id="z-report-summary"></div>
                <canvas id="sales-chart"></canvas>
            </div>
        </div>
    </div>
</div>

<!-- Manage Users Modal -->
<div id="manage-users-modal" class="modal">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Manage Users</h5>
                <button type="button" class="btn-close close-btn"></button>
            </div>
            <div class="modal-body">
                <div class="card">
                    <div class="card-header">Add/Edit User</div>
                    <div class="card-body">
                        <form id="user-form">
                            <input type="hidden" id="user-id">
                            <div class="mb-3">
                                <label for="user-username" class="form-label">Username</label>
                                <input type="text" id="user-username" class="form-control" required>
                            </div>
                            <div class="mb-3">
                                <label for="user-password" class="form-label">Password</label>
                                <input type="password" id="user-password" class="form-control" placeholder="Leave blank to keep current password">
                            </div>
                            <div class="mb-3">
                                <label for="user-role" class="form-label">Role</label>
                                <select id="user-role" class="form-select">
                                    <option value="admin">Admin</option>
                                    <option value="kitchen">Kitchen</option>
                                    <option value="front">Front</option>
                                    <option value=\"waiter\">Waiter</option>
                                    <option value=\"superadmin\">Super Admin</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary">Save User</button>
                            <button type="button" id="clear-user-form-btn" class="btn btn-secondary">Clear</button>
                        </form>
                    </div>
                </div>
                <div class="card mt-4">
                    <div class="card-header">Existing Users</div>
                    <div class="card-body">
                        <ul id="users-list" class="list-group">
                            <!-- User items will be injected here -->
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


    <div id="old-orders-modal" class="modal">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Completed Orders</h5>
                    <button type="button" class="btn-close close-btn"></button>
                </div>
                <div class="modal-body">
                <div class="filter-controls d-flex gap-2 mb-3">
                    <input type="date" id="old-orders-date-filter" class="form-control">
                    <select id="old-orders-payment-filter" class="form-select">
                        <option value="">All Payment Methods</option>
                        <option value="cash">Cash</option>
                        <option value="card">Card</option>
                    </select>
                    <button id="filter-orders-btn" class="btn btn-secondary">Filter</button>
                    <button id="show-all-orders-btn" class="btn btn-outline-secondary">Show All</button>
                </div>
                <ul id="old-orders-list">
                    <!-- Completed orders will be injected here -->
                </ul>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        Developed by Gazi Sharin Mostafiz
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/@coreui/coreui@4.2.2/dist/js/coreui.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Your Custom Script -->
    <script type="module" src="app/main.js"></script>
</body>
</html>


